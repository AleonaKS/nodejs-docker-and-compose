{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{ButtonReturn}from\"../ui\";import{GoodCard}from\"../good-card\";import{getAnotherUser,getAnotherUserWishes,getOwnWishes}from\"../../utils/api\";import{findOwnedIds}from\"../../utils/functions\";import styles from\"./user-page.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const UserPage=_ref=>{let{extraClass=\"\"}=_ref;const[anotherUser,setAnotherUser]=useState({});const[anotherUserWishes,setAnotherUserWishes]=useState([]);const[myWishes,setMyWishes]=useState([]);const alreadyOwnWishesId=findOwnedIds(myWishes,anotherUserWishes);const{username}=useParams();useEffect(()=>{if(!username)return;Promise.all([getAnotherUserWishes(username),getAnotherUser(username),getOwnWishes()]).then(values=>{const[wishes,profileInfo,myWishes]=values;setAnotherUser(profileInfo);setAnotherUserWishes(wishes);setMyWishes(myWishes);});},[username]);return/*#__PURE__*/_jsxs(\"section\",{className:\"\".concat(styles.content,\" \").concat(extraClass),children:[/*#__PURE__*/_jsx(ButtonReturn,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"text text_type_h1 text_color_primary mb-16 \".concat(styles.title),children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C: \".concat(anotherUser===null||anotherUser===void 0?void 0:anotherUser.username,\" \")}),/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_main text_color_primary mb-16 \".concat(styles.description),children:\"\\u041E\\u0431\\u043E \\u043C\\u043D\\u0435: \".concat((anotherUser===null||anotherUser===void 0?void 0:anotherUser.about)||\"ничего неизвестно\")}),/*#__PURE__*/_jsxs(\"div\",{className:styles.cards,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text text_type_h2 text_color_primary \".concat(styles.title),children:\"\\u0412\\u0438\\u0448\\u043B\\u0438\\u0441\\u0442 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.cards_box,children:anotherUserWishes===null||anotherUserWishes===void 0?void 0:anotherUserWishes.map(_ref2=>{let{price,name,raised,image,link,id}=_ref2;return/*#__PURE__*/_jsx(GoodCard,{id:id,price:price,name:name,current:raised,img:image,link:link,isOwn:alreadyOwnWishesId.includes(id)},id);})})]})]});};","map":{"version":3,"names":["useState","useEffect","useParams","ButtonReturn","GoodCard","getAnotherUser","getAnotherUserWishes","getOwnWishes","findOwnedIds","styles","jsx","_jsx","jsxs","_jsxs","UserPage","_ref","extraClass","anotherUser","setAnotherUser","anotherUserWishes","setAnotherUserWishes","myWishes","setMyWishes","alreadyOwnWishesId","username","Promise","all","then","values","wishes","profileInfo","className","concat","content","children","title","description","about","cards","cards_box","map","_ref2","price","name","raised","image","link","id","current","img","isOwn","includes"],"sources":["/Users/alenasenozenskaya/nodejs-docker-and-compose/frontend/src/components/user-page/user-page.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { ButtonReturn } from \"../ui\";\nimport { GoodCard } from \"../good-card\";\n\nimport {\n  getAnotherUser,\n  getAnotherUserWishes,\n  getOwnWishes,\n} from \"../../utils/api\";\n\nimport { findOwnedIds } from \"../../utils/functions\";\n\nimport styles from \"./user-page.module.css\";\n\nexport const UserPage = ({ extraClass = \"\" }) => {\n  const [anotherUser, setAnotherUser] = useState({});\n  const [anotherUserWishes, setAnotherUserWishes] = useState([]);\n  const [myWishes, setMyWishes] = useState([]);\n\n  const alreadyOwnWishesId = findOwnedIds(myWishes, anotherUserWishes);\n\n  const { username } = useParams();\n\n  useEffect(() => {\n    if (!username) return;\n    Promise.all([\n      getAnotherUserWishes(username),\n      getAnotherUser(username),\n      getOwnWishes(),\n    ]).then((values) => {\n      const [wishes, profileInfo, myWishes] = values;\n      setAnotherUser(profileInfo);\n      setAnotherUserWishes(wishes);\n      setMyWishes(myWishes);\n    });\n  }, [username]);\n\n  return (\n    <section className={`${styles.content} ${extraClass}`}>\n      <ButtonReturn />\n      <h1\n        className={`text text_type_h1 text_color_primary mb-16 ${styles.title}`}\n      >\n        {`Пользователь: ${anotherUser?.username} `}\n      </h1>\n\n      <p\n        className={`text text_type_main text_color_primary mb-16 ${styles.description}`}\n      >\n        {`Обо мне: ${anotherUser?.about || \"ничего неизвестно\"}`}\n      </p>\n      <div className={styles.cards}>\n        <h2 className={`text text_type_h2 text_color_primary ${styles.title}`}>\n          Вишлист пользователя:\n        </h2>\n        <div className={styles.cards_box}>\n          {anotherUserWishes?.map(\n            ({ price, name, raised, image, link, id }) => {\n              return (\n                <GoodCard\n                  key={id}\n                  id={id}\n                  price={price}\n                  name={name}\n                  current={raised}\n                  img={image}\n                  link={link}\n                  isOwn={alreadyOwnWishesId.includes(id)}\n                />\n              );\n            }\n          )}\n        </div>\n      </div>\n    </section>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}